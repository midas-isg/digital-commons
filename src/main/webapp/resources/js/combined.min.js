function convertToHref(a){var b;return b=a.includes("zenodo")?a.split("https://doi.org/").pop():a,'<a class="underline" href="'+a+'">'+b+"</a>"}
function hardcodeFromJson(a,b,e,d,c,f,h,g){$.getJSON(a+b+"?v="+Date.now(),function(b){for(var c=new Set,k=new Set,n=0;n<b.length;n++)c.add(b[n].subtype),b[n].hasOwnProperty("product")&&k.add(b[n].subtype+"--\x3e"+b[n].product);c=Array.from(c);Array.from(k);null==c[0]&&(c=[]);k=JSON.parse(JSON.stringify(c));addTreeDirectories(c,e);addTreeNodes(g,b,d,e);buildBootstrapTree(g,a,e,f,h,d,k);$('[data-toggle="tooltip"]').tooltip({trigger:"hover",delay:350})})}
function addTreeDirectories(a,b){for(var e=0;e<a.length;e++)if("string"==typeof a[e])b.push({text:"<span class=\"root-break\" onmouseover='toggleTitle(this)'>"+a[e]+"</span>",nodes:[],name:a[e]});else{for(var d=Object.keys(a[e])[0],c=[],f=0;f<a[e][d].length;f++)c.push({text:"<span class=\"root-break\" onmouseover='toggleTitle(this)'>"+a[e][d][f],nodes:[],name:a[e][d][f]});b.push({text:"<span class=\"root-break\" onmouseover='toggleTitle(this)'>"+d+"</span>",nodes:c,name:d})}}
function addTreeNodes(a,b,e,d){for(var c in b)if(e[c]=b[c],"subtype"in e[c])addNodesToDirectory(a,c,d,e);else if("settings"!=c&&"EpiCaseMap"!=c){var f=getNodeData(a,c,e);f.nodes=[];d.push(f)}for(a=0;a<d.length;a++){for(e=b=0;e<d[a].nodes.length;e++)null!=d[a].nodes[e].nodes&&0<d[a].nodes[e].nodes.length&&(b+=d[a].nodes[e].nodes.length-1,d[a].nodes[e].text+=" ["+d[a].nodes[e].nodes.length+"]");0<d[a].nodes.length&&(b+=d[a].nodes.length,d[a].text+=" ["+b+"]")}}
function buildBootstrapTree(a,b,e,d,c,f,h){for(b=0;b<e.length;b++)"nodes"in e[b]&&e[b].nodes.sort(compareNodes);e.sort(compareNodes);b={data:e,showBorder:!1,collapseAll:!0,expandIcon:"glyphicon glyphicon-chevron-right",collapseIcon:"glyphicon glyphicon-chevron-down",onNodeSelected:function(a,b){$(d).treeview("toggleNodeExpanded",[b.nodeId,{levels:1,silent:!0}]).treeview("unselectNode",[b.nodeId,{silent:!0}]);var f=$.parseJSON(sessionStorage.getItem(c));if(b.state.expanded)null!=f&&-1<(k=f.indexOf(b.nodeId))&&
f.splice(k,1);else if(null!=f){var k=f.indexOf(b.nodeId);-1>=k&&f.push(b.nodeId)}else(f=[]).push(b.nodeId);sessionStorage.setItem(c,JSON.stringify(f));null!=b.url&&1==b.state.selected&&(ga("send",{hitType:"event",eventCategory:"Clickthrough",eventAction:b.url}),window.location.href=b.url)}};"diseaseTransmissionModels"==a||"systemSoftware"==a||"tools"==a||"standardIdentifiers"==a?(b.expandIcon="bullet-point",b.collapseIcon="bullet-point",b.highlightSelected=!1,b.onNodeSelected=function(a,b){$('[data-toggle="tooltip"]').tooltip("destroy");
a.stopPropagation()},$(d).treeview(b),$(d).treeview("expandAll",{silent:!0})):("standardIdentifiers"==a&&(b.expandIcon="",b.collapseIcon=""),$(d).treeview(b),$(d).treeview("collapseAll",{silent:!0}));f=$.parseJSON(sessionStorage.getItem(c));a=[];if(null==f){e=[];for(b=0;b<h.length;b++)f=$(d).treeview("search",[h[b],{ignoreCase:!1,exactMatch:!1,revealResults:!1}])[0],$(d).treeview("clearSearch"),null!=f&&e.push(f.nodeId);f=e;sessionStorage.setItem(c,JSON.stringify(e))}if(null!=f){for(b=0;b<f.length;b++)try{$(d).treeview("expandNode",
[f[b],{silent:!0}])}catch(g){a.push(b)}if(0<a.length){for(b=0;b<a.length;b++)f.splice(a[b],1);sessionStorage.setItem(c,JSON.stringify(f))}}}function addNodesToDirectory(a,b,e,d){for(var c=0;c<e.length;c++){var f=[],h=[];addNodesToSubdirectories(e[c],f,h);f=f.indexOf(d[b].product);if(e[c].name==d[b].subtype||-1<f){a=getNodeData(a,b,d);-1<f?(h[f].nodes.push(a),h[f].nodes.sort(compareNodes)):e[c].nodes.push(a);break}}}
function addNodesToSubdirectories(a,b,e){if("nodes"in a)for(var d in a.nodes)"nodes"in a.nodes[d]&&(b.push(a.nodes[d].name),e.push(a.nodes[d]))}
function getNodeData(a,b,e){var d=b,c={text:'<span onmouseover="toggleTitle(this)" onclick="openModal(\''+a+"','"+b+"')\">"+(d="version"in e[b]?getSoftwareTitle(e[b].title,e[b].version.join(", ")):e[b].title)+"</span>",name:d};if("availableOnOlympus"in e[b]&&1==e[b].availableOnOlympus&&(c.text+=' <b><i class="olympus-color"><sup>AOC</sup></i></b>'),"availableOnUIDS"in e[b]&&1==e[b].availableOnUIDS&&(c.text+=' <b><i class="udsi-color"><sup>UIDS</sup></i></b>'),"signInRequired"in e[b]&&1==e[b].signInRequired&&
(c.text+=' <b><i class="sso-color"><sup>SSO</sup></i></b>'),"redirect"in e[b]&&1==e[b].redirect){var f="";"source"in e[b]&&(f=e[b].source);"website"in e[b]&&(f=e[b].website);0<f.length&&(c.url=f,c.text='<span onmouseover="toggleTitle(this)">'+d+"</span>","availableOnOlympus"in e[b]&&1==e[b].availableOnOlympus&&(c.text+=' <b><i class="olympus-color"><sup>AOC</sup></i></b>'),"availableOnUIDS"in e[b]&&1==e[b].availableOnOlympus&&(c.text+=' <b><i class="udsi-color"><sup>UIDS</sup></i></b>'),"signInRequired"in
e[b]&&1==e[b].signInRequired&&(c.text+=' <b><i class="sso-color"><sup>SSO</sup></i></b>',c.signInRequired=e[b].signInRequired))}return"software"!=a&&"webServices"!=a&&"dataFormats"!=a&&"standardIdentifiers"!=a&&(c.text="<span data-placement='auto right' data-container='body' data-toggle='tooltip' title='"+e[b].description+"'>"+d+"</span>"),c}
function getSoftwareTitle(a,b){var e=a,d=e.split(" "),c=d[d.length-1];return 3==c.length&&c.startsWith("[")&&c.endsWith("]")&&(e=d.slice(0,d.length-1).join(" ")),""!=(b=b.split(" - ")[0])&&(isNaN(b[0])||"2010 U.S. Synthesized Population"==b?e+=" - "+b:e+=" - v"+b),e}
function getDataAndKnowledgeTree(a,b,e,d,c){var f=[];e+="main/";d=[{text:'<span onmouseover=\'toggleTitle(this)\' onclick=\'openModal("syntheticPopulations","county")\'>2010 U.S. Synthetic Populations by County</span> <b><i class="olympus-color"><sup>AOC</sup></i></b>'},{text:'<span onmouseover=\'toggleTitle(this)\' onclick=\'openModal("syntheticPopulations","state")\'>2010 U.S. Synthetic Populations by State</span> <b><i class="olympus-color"><sup>AOC</sup></i></b>'}];var h={text:"Synthia\u2122 datasets <span class='badge'>["+
Object.keys(d).length+"]</span>",nodes:d};b={text:"Synthetic populations and ecosystems <span class='badge'>["+(c+Object.keys(d).length)+"]</span>",nodes:[b,h]};f.push(b);locationData.text+=" <span class='badge'>["+locationData.nodes.length+"]</span>";f.push(locationData);for(b=0;b<dsdNodeNames.length;b++)dsd.nodes.push({text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"diseaseSurveillance\",\""+dsdNodeNames[b]+"\")'>"+dsdNodeNames[b]+"</span>",name:dsdNodeNames[b]});dsd.nodes.push({text:"<span onmouseover='toggleTitle(this)'>Project Tycho datasets</span>",
name:"Project Tycho datasets",nodes:[]});var g=[],k=dsd.nodes[dsd.nodes.length-1].nodes;$.getJSON(ctx+"/resources/hardcoded-tycho.json?v="+Date.now(),function(a){for(var b="",c=null,d=null,f=[],e=0;e<a.length;e++)f.includes(a[e].continent)?d=k[f.indexOf(a[e].continent)].nodes:(k.push({name:a[e].continent,text:"<span onmouseover='toggleTitle(this)'>"+a[e].continent+"</span>",nodes:[]}),f.push(a[e].continent),d=k[k.length-1].nodes),a[e].countryIso!=b&&(b=a[e].countryIso,d.push({name:a[e].subtype,text:"<span onmouseover='toggleTitle(this)'>"+
a[e].subtype+"</span>",nodes:[]}),null!=c&&c.sort(compareNodes),c=d[d.length-1].nodes),c.push({name:a[e].product,text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"tycho\",\""+a[e].id+"\")'>"+a[e].product+" ("+a[e].dateRange+")</span>"}),g.push(a[e].id);for(e=0;e<k.length;e++){for(b=a=0;b<k[e].nodes.length;b++)k[e].nodes[b].text+=" <span class='badge'>["+k[e].nodes[b].nodes.length+"]</span>",a+=k[e].nodes[b].nodes.length;k[e].text+=" <span class='badge'>["+a+"]</span>";k[e].nodes.sort(compareNodes)}dsd.nodes[dsd.nodes.length-
1].text+=" <span class='badge'>["+g.length+"]</span>";a=g.length;for(e=0;e<dsd.nodes.length;e++)null!=dsd.nodes[e].nodes&&0!=dsd.nodes[e].nodes.length||(a+=1);dsd.text+=" <span class='badge'>["+a+"]</span>";k[k.length-1].nodes.sort(compareNodes)}).then(function(){dsd.nodes.sort(compareNodes);k.sort(compareNodes);populateTycho(g,0);f.push(dsd);weatherAndClimateData.text+=" <span class='badge'>["+weatherAndClimateData.nodes.length+"]</span>";f.push(weatherAndClimateData);for(var b={text:"Mortality data <span class='badge'>["+
moralityDataNodeNames.length+"]</span>",nodes:[]},c=0;c<moralityDataNodeNames.length;c++)b.nodes.push({text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"mortalityData\",\""+moralityDataNodeNames[c]+"\")'>"+moralityDataNodeNames[c]+"</span>",name:moralityDataNodeNames[c]});f.push(b);var d={};null!=a&&$.each(a,function(a,b){var c=a.includes("Epidemic")?e+"epidemic/":a.includes("Case series")?e+"caseSeries/":e+"infectiousDiseaseScenario/";var f=[],k=0;$.each(b,function(a,b){var d=[],e=
!1,g=!1,h=!1,l=!1,m=!1;"Ebola epidemics"==a?e=!0:"Rabies case listings"==a?g=!0:"Chikungunya epidemics"==a?h=!0:"Zika epidemics"==a?l=!0:"H1N1 infectious disease scenarios"==a&&(m=!0);$.each(b,function(a,b){if(k++,e||g||h||l||m){var f=b.name.trim();f.includes("\u00c9")?f=f.replace("\u00c9","E"):f.includes("/")?f=f.replace("/",":"):f.includes("\u00e9")&&(f=f.replace("\u00e9","e"));e?(d.push({name:b.name,text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"epidemics\",\""+f+"\")'>"+b.name+
' <b><i class="ae-color"><sup>AE</sup></i><b></span>'}),$.getJSON(ctx+"/resources/ebola-dats-json/"+f+".json?v="+Date.now(),function(a){addDatsToDictionary(epidemicsDictionary,a,f)}).error(function(a){console.log("error")})):g?(d.push({name:b.name,text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"caseSeries\",\""+f+"\")'>"+b.name+' <b><i class="ae-color"><sup>AE</sup></i><b></span>'}),$.getJSON(ctx+"/resources/case-series-dats-json/"+f+".json?v="+Date.now(),function(a){addDatsToDictionary(caseSeriesDictionary,
a,f)}).error(function(a){console.log(f)})):h?(d.push({name:b.name,text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"chikungunya\",\""+f+"\")'>"+b.name+' <b><i class="ae-color"><sup>AE</sup></i><b></span>'}),$.getJSON(ctx+"/resources/chikungunya-dats-json/"+f+".json?v="+Date.now(),function(a){addDatsToDictionary(chikungunyaDictionary,a,f)}).error(function(a){console.log(f)})):l?(d.push({name:b.name,text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"zika\",\""+f+"\")'>"+
b.name+' <b><i class="ae-color"><sup>AE</sup></i><b></span>'}),$.getJSON(ctx+"/resources/zika-dats-json/"+f+".json?v="+Date.now(),function(a){addDatsToDictionary(zikaDictionary,a,f)}).error(function(a){console.log(f)})):m&&(d.push({name:b.name,text:"<span onmouseover='toggleTitle(this)' onclick='openModal(\"infectiousDisease\",\""+f+"\")'>"+b.name+' <b><i class="ae-color"><sup>AE</sup></i><b></span>'}),$.getJSON(ctx+"/resources/infectious-disease-dats-json/"+f+".json?v="+Date.now(),function(a){addDatsToDictionary(infectiousDiseaseDictionary,
a,f)}).error(function(a){console.log(f)}))}else d.push({text:"<span onmouseover='toggleTitle(this)'>"+b.name+' <b><i class="ae-color"><sup>AE</sup></i><b> </span> ',url:c+b.urn})});(a.includes("Zika")||a.includes("Chikungunya"))&&(a+=" (under development)");a.includes("H1n1 infectious disease scenarios")&&(a="H1N1 infectious disease scenarios");f.push({text:"<span onmouseover='toggleTitle(this)'>"+a+" <b><i class=\"ae-color\"><sup>AE</sup></i><b> </span> <span class='badge'>["+b.length+"]</span>",
nodes:d})});var g=a+" datasets";"Epidemics"==a?g="Epidemic datasets":"Infectious disease scenarios"==a&&(g="Infectious disease scenario datasets");d[a]={text:"<span onmouseover='toggleTitle(this)'>"+g+"</span> <span class='badge'>["+k+"]</span>",nodes:f}});f.push(d.Epidemics);f.push(d["Case series"]);f.push(d["Infectious disease scenarios"]);$("#data-and-knowledge-treeview").treeview({data:f,showBorder:!1,expandIcon:"glyphicon glyphicon-chevron-right",collapseIcon:"glyphicon glyphicon-chevron-down"});
$("#data-and-knowledge-treeview").treeview("collapseAll",{silent:!0});$("#data-and-knowledge-treeview").on("nodeSelected",function(a,b){$("#data-and-knowledge-treeview").treeview("toggleNodeExpanded",[b.nodeId,{levels:1,silent:!0}]).treeview("unselectNode",[b.nodeId,{silent:!0}]);var c=$.parseJSON(sessionStorage.getItem("expandedDataAndKnowledge"));if(b.state.expanded)null!=c&&-1<(d=c.indexOf(b.nodeId))&&c.splice(d,1);else if(null!=c){var d=c.indexOf(b.nodeId);-1>=d&&c.push(b.nodeId)}else(c=[]).push(b.nodeId);
sessionStorage.setItem("expandedDataAndKnowledge",JSON.stringify(c));null!=b.url&&1==b.state.selected&&(ga("send",{hitType:"event",eventCategory:"Clickthrough",eventAction:b.url}),-1<b.url.search("apolloLibraryViewer")?$(location).attr("href","${pageContext.request.contextPath}/midas-sso/view?url="+encodeURIComponent(b.url)):$(location).attr("href",b.url))});var h=$.parseJSON(sessionStorage.getItem("expandedDataAndKnowledge"));b=[];if(null==h){h="Synthetic populations and ecosystems;Location data;Disease surveillance data;US notifiable diseases;Mortality data;Case series;Rabies case listings;Epidemic;Infectious disease scenario;H1N1 infectious disease scenarios;Standards for encoding data;Data formats;Standard identifiers;Weather and climate data".split(";");
var q=[];for(c=0;c<h.length;c++){var p=$("#data-and-knowledge-treeview").treeview("search",[h[c],{ignoreCase:!1,exactMatch:!1,revealResults:!1}])[0];$("#data-and-knowledge-treeview").treeview("clearSearch");null!=p&&q.push(p.nodeId)}h=q;sessionStorage.setItem("expandedDataAndKnowledge",JSON.stringify(q))}if(null!=h){for(c=0;c<h.length;c++)try{$("#data-and-knowledge-treeview").treeview("expandNode",[h[c],{silent:!0}])}catch(t){b.push(c)}if(0<b.length){for(c=0;c<b.length;c++)h.splice(b[c],1);sessionStorage.setItem("expandedDataAndKnowledge",
JSON.stringify(h))}}})}function openViewer(a){window.open(a)}function identifierToString(a){if(a.hasOwnProperty("identifier")){var b=a.identifier;identifierCodes.hasOwnProperty(b.identifier)?a=identifierCodes[b.identifier]:b.hasOwnProperty("identifierDescription")&&(a=b.identifierDescription)}return a}function nameToString(a){var b={};return a.hasOwnProperty("name")&&(b=a.name),a.hasOwnProperty("location")&&(b+=", "+a.location),0===Object.keys(b).length?a:b}
function listToHtmlString(a){return a=a.join("</li><li>"),'<ul style="padding-left:19px"><li>'+(a+"</ul>")}function displayList(a){a=a.join(", ");return a.includes("http")||(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function parseAttributeList(a,b){for(var e=0;e<a.length;e++)a[e]=identifierToString(a[e]),null!==a[e]&&0<a[e].length&&!1}
function toggleModalItem(a,b,e,d,c){e="#software-"+e;var f=e+"-container";if(a in b&&null!=b[a]||"accessURL"===a||"landingPage"===a){if(a in b)var h=b[a];else{if(null==b.distributions)return void $(f).hide();try{h=b.distributions[0].access[a]}catch(k){return void $(f).hide()}if(null==h)return void $(f).hide()}b=!0;if("[object Array]"===Object.prototype.toString.call(h)){for(var g=0;g<h.length;g++)h[g]=identifierToString(h[g]),null!==h[g]&&0<h[g].length&&(b=!1),h[g]=nameToString(h[g]),null!==h[g]&&
0<h[g].length&&(b=!1);b&&$(f).hide();h=-1<convertToHtml.indexOf(a)&&1<h.length?listToHtmlString(h):displayList(h)}else"producedBy"===a?0!==Object.keys(h).length?(h=0!==Object.keys(h.location).length?h.name+", "+h.location.postalAddress:h.name,b=!1):$(f).hide():"type"===a?0!==Object.keys(h).length?("[object Object]"===Object.prototype.toString.call(h)&&(h=h.value),0<h.length&&(b=!1)):$(f).hide():b=!1;b?$(f).hide():(c?$(e).html(h):$(e).text(h),d&&$(e).attr("href",h),$(f).show())}else $(f).hide()}
function toggleRequiredModalItem(a,b,e,d,c,f){e="#software-"+e;var h=e+"-container";if(a in b){b=b[a];var g=!0;if("[object Array]"===Object.prototype.toString.call(b)){for(var k=0;k<b.length;k++)b[k]=identifierToString(b[k]),null!==b[k]&&0<b[k].length&&(g=!1);g&&$(h).hide();b=-1<convertToHtml.indexOf(a)&&1<b.length?listToHtmlString(b):displayList(b)}else g="identifier"===a&&null==(b=b.identifier);g?f.includes("Dataset")||f.includes("DataStandard")?$(h).hide():($(h).show(),$(e).html("N/A")):(b.startsWith("http")&&
!b.includes(" ")&&(b="<a class='underline' href='"+b+"'>"+b+"</a>"),c?$(e).html(b):$(e).text(b),d&&$(e).attr("href",b),$(h).show())}else f.includes("Dataset")||f.includes("DataStandard")?$(h).hide():($(h).show(),$(e).html("N/A"))}
function openModal(a,b,e){var d={},c=-1;(null!=e?(b=(d=JSON.parse(e)).title,a=a.toLowerCase(),$("#display-json").text(JSON.stringify(d,null,"\t"))):"software"==a?(d=softwareDictionary[b],c=parseInt(b),b=d.title,ga("send",{hitType:"event",eventCategory:"User Activity",eventAction:"Software - "+b})):"webServices"==a?(b=(d=webservicesDictionary[b]).title,ga("send",{hitType:"event",eventCategory:"User Activity",eventAction:"Web Services - "+b})):"syntheticEcosystems"==a||"epidemics"==a||"syntheticPopulations"==
a||"caseSeries"==a||"chikungunya"==a||"diseaseSurveillance"==a||"mortalityData"==a||"zika"==a||"infectiousDisease"==a||"tycho"==a?("syntheticEcosystems"==a?(d=syntheticEcosystemsDictionary[b],stateHash.hasOwnProperty(b)?b=stateHash[b]:countryHash.hasOwnProperty(b)&&(b=countryHash[b])):"epidemics"==a?b=(d=epidemicsDictionary[b]).title.replace(" data and knowledge",""):"syntheticPopulations"==a?b=(d=synthiaPopulationsDictionary[b]).title:"caseSeries"==a?b=(d=caseSeriesDictionary[b]).title:"chikungunya"==
a?b=(d=chikungunyaDictionary[b]).title:"diseaseSurveillance"==a?b=(d=diseaseSurveillanceDictionary[b]).title:"mortalityData"==a?b=(d=moralityDataDictionary[b]).title:"zika"==a?b=(d=zikaDictionary[b]).title:"infectiousDisease"==a?b=(d=infectiousDiseaseDictionary[b]).title:"tycho"==a&&(b=(d=tychoDictionary[b]).title),$("#mdc-json").hide(),$("#dats-json").show(),$("#modal-switch-btn").show(),$("#display-json").text(JSON.stringify(d.json,null,"\t"))):"dataFormats"==a?(b=(d=dataFormatsDictionary[b]).title,
$("#mdc-json").hide(),$("#dats-json").show(),$("#modal-switch-btn").show(),$("#display-json").text(JSON.stringify(d.json,null,"\t"))):"standardIdentifiers"==a&&(d=standardIdentifiersDictionary[b]),"software"!=a&&"webServices"!=a&&"standardIdentifiers"!=a||($("#dats-json").hide(),$("#mdc-json").show(),$("#modal-switch-btn").show(),"software"==a?$.get(ctx+"/getSoftwareXml?index="+c,function(a){$("#display-json").text((new XMLSerializer).serializeToString(a.documentElement))}):$("#display-json").text(JSON.stringify(d,
null,4))),null!=b?($("#software-name").show(),"version"in d?$("#software-name").text(getSoftwareTitle(b,d.version.join(", "))):$("#software-name").text(b)):$("#software-name").hide(),"developers"in d)?(h=(f=d.developers).length,f=f.join(", "),$("#software-developer-container").show(),$("#software-developer").html(f),1<h?$("#software-developer-tag").text("Developers:"):$("#software-developer-tag").text("Developer:")):$("#software-developer-container").hide();if("creator"in d?(h=(f=d.creator).length,
f=f.join(", "),$("#software-creator-container").show(),$("#software-creator").html(f),1<h?$("#software-creator-tag").text("Creators:"):$("#software-creator-tag").text("Creator:")):$("#software-creator-container").hide(),"version"in d){var f=d.version,h=f.length;f=f.join(", ");$("#software-version-container").show();$("#software-version").text(f);1<h&&"software"==a?$("#software-version-tag").text("Software versions:"):$("#software-version-tag").text("Software version:");1<h&&"webServices"==a?$("#software-version-tag").text("Versions:"):
$("#software-version-tag").text("Version:")}else"syntheticEcosystems"!=a&&"epidemics"!=a&&"syntheticPopulations"!=a&&"dataFormats"!=a&&"chikungunya"!=a&&"caseSeries"!=a&&"diseaseSurveillance"!=a&&"mortalityData"!=a&&"zika"!=a&&"infectiousDisease"!=a&&"tycho"!=a?$("#software-version").text("N/A"):$("#software-version-container").hide();if("dataServiceDescription"in d)for(b=d.dataServiceDescription,e=0;e<b.length;e++)Object.keys(b[e]).includes("accessPointType")&&"custom"!=b[e].accessPointType&&("REST"==
b[e].accessPointType?d.restDocumentation=b[e].accessPointDescription:"SOAP"==b[e].accessPointType&&(d.soapDocumentation=b[e].accessPointDescription)),null!=b[e].accessPointUrl&&""!=b[e].accessPointUrl&&(d.endpointPrefix=b[e].accessPointUrl);toggleRequiredModalItem("identifier",d,"identifier",!1,!0,a);toggleRequiredModalItem("dataInputFormats",d,"data-input-formats",!1,!0,a,!0);toggleRequiredModalItem("dataOutputFormats",d,"data-output-formats",!1,!0,a,!0);toggleModalItem("type",d,"type",!1,!1);toggleModalItem("populationSpeciesIncluded",
d,"population-species",!1,!1);toggleModalItem("source",d,"source-code",!0,!1);toggleModalItem("pathogenCoverage",d,"pathogen-coverage",!1,!1);toggleModalItem("locationCoverage",d,"location-coverage",!1,!1);toggleModalItem("speciesIncluded",d,"species-included",!1,!1);toggleModalItem("hostSpeciesIncluded",d,"host-species-included",!1,!1);toggleModalItem("controlMeasures",d,"control-measures",!1,!1);toggleModalItem("title",d,"title",!1,!1);toggleModalItem("humanReadableSynopsis",d,"human-readable-synopsis",
!1,!0);toggleModalItem("sourceCodeRelease",d,"source-code-release",!1,!0);toggleModalItem("publicationsAboutRelease",d,"publications-about-release",!1,!0);toggleModalItem("publicationsThatUsedRelease",d,"publications-that-used-release",!1,!0);toggleModalItem("webApplication",d,"web-application",!0,!1);toggleModalItem("userGuidesAndManuals",d,"user-guides-and-manuals",!0,!1);toggleModalItem("executables",d,"executables",!1,!0);toggleModalItem("license",d,"license",!1,!0);toggleModalItem("endpointPrefix",
d,"end-point-prefix",!0,!1);toggleModalItem("documentation",d,"documentation",!1,!0);toggleModalItem("restDocumentation",d,"rest-documentation",!0,!1);toggleModalItem("soapDocumentation",d,"soap-documentation",!0,!1);toggleModalItem("soapEndpoint",d,"soap-endpoint",!0,!1);toggleModalItem("projectSource",d,"project-source-code",!0,!1);toggleModalItem("soapSource",d,"rest-source-code",!0,!1);toggleModalItem("restSource",d,"soap-source-code",!0,!1);toggleModalItem("exampleQueries",d,"example-queries",
!1,!0);toggleModalItem("diseases",d,"diseases",!1,!1);toggleModalItem("region",d,"region",!1,!0);toggleModalItem("locations",d,"locations",!1,!0);toggleModalItem("pathogens",d,"pathogens",!1,!0);toggleModalItem("outcomes",d,"outcomes",!1,!0);toggleModalItem("forecasts",d,"forecasts",!1,!0);toggleModalItem("nowcasts",d,"nowcasts",!1,!0);toggleModalItem("website",d,"website",!0,!1);toggleModalItem("forecastFrequency",d,"forecast-frequency",!1,!1);toggleModalItem("visualizationType",d,"visualization-type",
!1,!1);toggleModalItem("grants",d,"grant",!1,!1);toggleModalItem("platform",d,"platform",!1,!1);toggleModalItem("description",d,"description",!1,!1);toggleModalItem("landingPage",d,"landing-page",!0,!1);toggleModalItem("accessUrl",d,"access-url",!0,!1);toggleModalItem("authorizations",d,"authorizations",!1,!1);toggleModalItem("humanReadableSpecification",d,"human-readable-specification",!0,!1);toggleModalItem("machineReadableSpecification",d,"machine-readable-specification",!0,!1);toggleModalItem("validator",
d,"validator",!0,!1);$("#pageModal").modal("show")}function formatLocation(a){a=a.includes("_")?a.split("_"):a.split(" ");for(var b=0;b<a.length;b++){var e=0;"("==a[b].charAt(0)&&(e=1);"of"!=a[b].replace(/["'\(\)]/g,"")&&(a[b]=a[b].charAt(e).toUpperCase()+a[b].slice(e+1),1==e&&(a[b]="("+a[b]))}return a.join(" ")}function openSoftwareInfo(a,b){location.href=a+"/main/software/"+b}
function openLibraryFrame(a){document.getElementById("libraryFrame").parentNode.style.display="";document.getElementById("commons-main-body").style.display="none";document.getElementById("commons-main-tabs").style.display="none";window.open(a,"libraryFrame")}function compareNodes(a,b){return a.name.trim().toLowerCase()<b.name.trim().toLowerCase()?-1:a.name.trim().toLowerCase()>b.name.trim().toLowerCase()?1:0}
function toggleTitle(a){a=$(a);a[0].parentNode.offsetWidth<a[0].parentNode.scrollWidth||a[0].offsetWidth<a[0].scrollWidth?a.attr("title",a.text()):a.attr("title","")}function activeTab(a){$('.tabs a[href="#'+a+'"]').tab("show");location.hash=a;a.includes("publication")?$("#data-and-knowledge-tab").addClass("highlighted-item"):$("#data-and-knowledge-tab").removeClass("highlighted-item")}function getWebServicesTreeview(){var a=[];return a.push({text:"WebServices placeholder",nodes:[]}),a}
function getSoftwareEnvironmentTreeview(){var a=[];return a.push({text:"Software environment placeholder",nodes:[]}),a}function getDiseaseTransmissionModelTreeview(){var a=[];return a.push({text:"Disease transmission model placeholder",nodes:[]}),a}function getToolsTreeview(){var a=[];return a.push({text:"Statistical analysis software"},{text:"Image manipulation"}),a}
function init(){for(var a=document.getElementsByTagName("iframe"),b=0;b<a.length;b++)a[b].getAttribute("data-src")&&a[b].setAttribute("src",a[b].getAttribute("data-src"))}function convertDateNumToString(a){return 10>a?a="0"+a:a+="",a}function getFormattedDate(){var a=new Date,b=a.getYear()-100,e=a.getMonth()+1,d=a.getDate(),c=a.getMinutes();a=a.getSeconds();return convertDateNumToString(b)+convertDateNumToString(e)+convertDateNumToString(d)+convertDateNumToString(c)+convertDateNumToString(a)}
function drawDiagram(){$("#workflow-none-img").hide();$("#workflow-spew-img").hide();$("#workflow-synthia-img").hide();var a=$("input[name=synthpop]:checked").val(),b=$("input[name=dtm]:checked").val(),e=$("#olympus-username").val(),d=$("#location-select").val().split("_");d=(formatLocation(d[0]),d[1]);if("spew"==a?$("#workflow-spew-img").show():"synthia"==a?$("#workflow-synthia-img").show():$("#workflow-none-img").show(),null!=d&&null!=a&&null!=b){var c="<username>";null!=e&&""!=e.trim()&&(c=e);
b=d+"_"+b+"_"+getFormattedDate();"spew"==a?$("#submit-lsdtm-script").text("/mnt/lustre0/data/shared_group_data/syneco/spew2synthia/scripts/lsdtm.sh -p 2010_ver1_"+d+" -o "+b):$("#submit-lsdtm-script").text("/mnt/lustre0/data/shared_group_data/syneco/spew2synthia/scripts/lsdtm.sh -p 2010_ver1_"+d+" -o "+b+" -e fred_populations/United_States_2010_ver1");$("#example-submit-lsdtm-script").text("-bash-4.2$ /mnt/lustre0/data/shared_group_data/syneco/spew2synthia/scripts/lsdtm.sh -p spew_1.2.0_"+d+" -o /home/"+
c+"/test\n557925.pbs.olympus.psc.edu");$("#status-lsdtm-script").text("qstat | grep "+c);$("#example-status-lsdtm-script").text("-bash-4.2$ qstat | grep "+c+"\n557925.pbs.olympus.psc.edu ...synthia-1.2.0 "+c+"        00:33:37 R batch");$("#view-output-lsdtm-script").text("ls "+b);$("#example-view-output-lsdtm-script").text("-bash-4.2$ ls /home/"+c+"/test\nspew2synthia-1.2.0.e557925  spew2synthia-1.2.0.o557925  OUT  params");"spew"==a?($("#view-error-lsdtm-script").text("cat "+b+"/spew2synthia-1.2.0.e######"),
$("#example-view-error-lsdtm-script").text("-bash-4.2$ cat /home/"+c+"/spew2synthia-1.2.0.e557925\n\nThe following have been reloaded with a version change:\n1) gcc/4.8.3 => gcc/6.1.0")):($("#view-error-lsdtm-script").text("cat "+b+"/United_States_2010_ver1.e######"),$("#example-view-error-lsdtm-script").text("-bash-4.2$ cat /home/"+c+"/United_States_2010_ver1.e557925\n\nThe following have been reloaded with a version change:\n1) gcc/4.8.3 => gcc/6.1.0"));"spew"==a?($("#view-stdout-lsdtm-script").text("tail "+
b+"/spew2synthia-1.2.0.o######"),$("#example-view-stdout-lsdtm-script").text("-bash-4.2$ tail /home/"+c+"/spew2synthia-1.2.0.o557925\n\nday 239 report population took 0.000115 seconds\nday 239 maxrss 4068524\nday 239 finished Fri Apr  7 14:53:10 2017\nDAY_TIMER day 239 took 0.002799 seconds\n\n\nFRED simulation complete. Excluding initialization, 240 days took 0.493485 seconds\nFRED finished Fri Apr  7 14:53:10 2017\nFRED took 52.511174 seconds")):($("#view-stdout-lsdtm-script").text("tail "+b+"/United_States_2010_ver1.o######"),
$("#example-view-stdout-lsdtm-script").text("-bash-4.2$ tail /home/"+c+"/United_States_2010_ver1.o557925\n\nday 239 report population took 0.000115 seconds\nday 239 maxrss 4068524\nday 239 finished Fri Apr  7 14:53:10 2017\nDAY_TIMER day 239 took 0.002799 seconds\n\n\nFRED simulation complete. Excluding initialization, 240 days took 0.493485 seconds\nFRED finished Fri Apr  7 14:53:10 2017\nFRED took 52.511174 seconds"));$("#view-fred-out-lsdtm-script").text("cat "+b+"/OUT/out1.txt");$("#example-view-fred-out-lsdtm-script").text("-bash-4.2$ cat /home/"+
c+"/OUT/out1.txt\nDay 0 Date 2012-01-02 WkDay Tue C 10 College 0 Cs 0 E 10 GQ 0 I 0 Is 0 M 0Military 0 N 2278377 Nursing_Home 0 P 10 Prison 0 R 0 S 2278367 Week 1 Year 2012 AR 0.00 ARs 0.00 RR 0.00\nDay 1 Date 2012-01-03 WkDay Wed C 0 College 0 Cs 1 E9 GQ 0 I 1 Is 1 M 0 Military 0 N 2278377 Nursing_Home 0 P 10 Prison 0 R 0 S 2278367 Week 1 Year 2012 AR 0.00 ARs 0.00 RR 0.00\n.\n.\n.\nDay 238 Date 2012-08-27WkDay Tue C 127 College 0 Cs 81 E 232 GQ 0 I 570 Is 376 M 0 Military 0 N 2278377 Nursing_Home 0 P 802 Prison 0 R 2904 S 2274671 Week 35 Year 2012 AR 0.23 ARs 0.14 RR 0.95\nDay 239 Date 2012-08-28 WkDay Wed C 108 College 0 Cs 75 E 228 GQ 0 I 593 Is 389 M 0 Military 0 N 2278377 Nursing_Home 0 P 821 Prison 0 R 2966 S 2274590 Week 35 Year 2012 AR 0.23 ARs 0.15 RR 1.20");
$("#lsdtm-script-container").show()}else $("#lsdtm-script-container").hide()}function sortSelect(a){var b=$(a+" option"),e=$(a).val();b.sort(function(a,b){return a.text>b.text?1:a.text<b.text?-1:0});$(a).empty().append(b);$(a).val(e)}
function checkLocationSelect(){""!=$("#location-select").val()?$("#synthpop-radios").children().each(function(a,b){$(b).text();$(b).removeAttr("disabled");$(b).children().each(function(a,b){$(b).removeAttr("disabled")});drawDiagram()}):$("#synthpop-radios").children().each(function(a,b){var e=$(b).text();$(b).attr("disabled","disabled");"SPEW"==e&&($(b).children().each(function(a,b){$(b).attr("disabled","disabled");$(b).removeAttr("checked")}),drawDiagram())})}
function copyToClipboard(a){var b=$("<textarea>");$("body").append(b);b.val($(a).text()).select();document.execCommand("copy");b.remove()}function download(a,b){var e=$(b).text(),d=document.createElement("a");e.includes("xmlns")&&(a=a.replace(".json",".xml"));d.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e));d.setAttribute("download",a);d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d)}
function openJsonInNewTab(a){a=$(a).text();var b="application/json";a.includes("xmlns")&&(b="application/xml");window.open("data:"+b+";charset=utf-8,"+encodeURIComponent(a),"_blank")}function viewEntryInModal(a,b){b.replace(RegExp("\r?\n","g"),"<br />");$("#viewModalTitle").text(a);$("#viewModalBody").html("<br>"+b);$("#viewModal").modal("show")}
function toggleElementById(a,b){event.preventDefault();var e=-1<$(b).text().indexOf("example");if($(a).is(":visible"))if($(a).fadeOut(),e)$(b).text("show example");else{$(b).toggleClass("glyphicon-minus glyphicon-plus");$("#example-"+a.replace("#","")).fadeOut();e="#span-a-"+a.replace("#","").replace("-code-block","");var d="#a-"+a.replace("#","").replace("-code-block","");$(e).hide();$(d).text("show example")}else($(a).fadeIn(),e)?$(b).text("hide example"):($(b).toggleClass("glyphicon-plus glyphicon-minus"),
$("#example-"+a.replace("#","")).fadeOut(),e="#span-a-"+a.replace("#","").replace("-code-block",""),$(e).show())}
function populateFieldValues(){var a=$("#field-select").val(),b=new Set;if($("#value-select").empty().append($("<option>",{value:"",text:""})),null!=a&&""!=a){for(var e=Object.keys(softwareDictionary),d=0;d<e.length;d++){var c=e[d];if("settings"!=c&&"Disease transmission models"==softwareDictionary[c].subtype)for(var f=0;f<softwareDictionary[c][a].length;f++){var h=softwareDictionary[c][a][f];"N/A"!=h&&b.add(h.toLowerCase())}}a=Array.from(b).sort();for(d=0;d<a.length;d++)$("#value-select").append($("<option>",
{value:a[d],text:toTitleCase(a[d])}))}}function toTitleCase(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function unCamelCase(a){return a.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(a){return a.toUpperCase()})}
function changeQueryCategory(){var a=$("#category-select").val();null!=a&&""!=a?("software"==a?$("#human-readable-query-text").html("Find every entry in the <i>"+toTitleCase(a)+"</i> category in the MDC."):$("#human-readable-query-text").html("Find every entry classified as <i>"+toTitleCase(a).slice(0,-1)+"</i> in the <i>Software</i> category in the MDC."),$("#human-readable-query").show()):($("#human-readable-query-text").html(""),$("#human-readable-query").hide())}
function changeQueryField(){var a=$("#field-select").val(),b=$("#value-select").val(),e=$("input[name=fieldOperator]:checked").val();null!=a&&""!=a?null!=e&&""!=e&&"hasValue"==e?($("#human-readable-query-text").html("Find every entry classified as <i>Disease Transmission Model</i> in the <i>Software</i> category in the MDC that has the <i>"+unCamelCase(a)+"</i> field."),$("#human-readable-query").show()):null!=e&&""!=e&&null!=b&&""!=b?("equals"==e?$("#human-readable-query-text").html("Find every entry classified as <i>Disease Transmission Model</i> in the <i>Software</i> category in the MDC whose <i>"+
unCamelCase(a)+"</i> is <i>"+toTitleCase(b)+"</i>."):$("#human-readable-query-text").html("Find every entry classified as <i>Disease Transmission Model</i> in the <i>Software</i> category in the MDC that contains a <i>"+unCamelCase(a)+"</i> of <i>"+toTitleCase(b)+"</i>."),$("#human-readable-query").show()):($("#human-readable-query-text").html(""),$("#human-readable-query").hide()):($("#human-readable-query-text").html(""),$("#human-readable-query").hide())}
function getNumConstraints(){return $("#constraints-listed li").size()}function removeConstraint(a){$(a).closest("li").remove();0==getNumConstraints()&&($("#constraints-listed").hide(),$("#no-constraints-listed").show(),$("#run-query").hide())}
function addConstraintToList(){if(removeDuplicateError(),""!=$("#human-readable-query-text").html()){var a=$("#human-readable-query-text").html()+' <button class="btn btn-default btn-xs" onclick="removeConstraint(this)">Delete</button>',b=!1;$("#constraints-listed li").each(function(c){$(this).html()==a&&(b=!0)});b?($("#human-readable-query").addClass("error-color"),$("#human-readable-query-feedback").text("Error: Duplicate constraint.")):($("#constraints-listed").append($("<li>",{html:a})),0<getNumConstraints()&&
($("#no-constraints-listed").hide(),$("#constraints-listed").show(),$("#run-query").show()))}else{var e=$("#category-select-container"),d=$("#field-select-container"),c=$("#value-select-container");if(e.is(":visible"))d=$("#category-select").val(),null!=d&&""!=d||(e.addClass("has-error"),$("#category-select-feedback").text("Error: Please select a category."));else if(d.is(":visible")){e=$("#field-select").val();var f=$("#value-select").val();null!=e&&""!=e||(d.addClass("has-error"),$("#field-select-feedback").text("Error: Please select a field."));
null!=f&&""!=f||(c.addClass("has-error"),$("#value-select-feedback").text("Error: Please select a value."))}}}function removeDuplicateError(){$("#human-readable-query").removeClass("error-color");$("#human-readable-query-feedback").text("")}function removeError(a){$("#"+a+"-container").removeClass("has-error");$("#"+a+"-feedback").text("")}function removeErrors(){removeError("category-select");removeError("field-select");removeError("value-select");removeDuplicateError()}
function toggleModalView(){$("#modal-html").hasClass("active")?($("#modal-code-block").css("max-height",$("#modal-html").height()-25+"px"),$("#modal-json-link").click(),$("#modal-switch-btn").text("Switch to HTML View")):($("#modal-html-link").click(),$("#modal-switch-btn").text("Switch to Metadata View"))}
function openUrl(a){event.preventDefault();a=$(a)[0].href;-1<a.search("apolloLibraryViewer")?$(location).attr("href",ctx+"/midas-sso/view?url="+encodeURIComponent(a)):$(location).attr("href",a)}
function addConstraint(){if($("#new-constraint-1").is(":visible")){var a=$('div[id^="new-constraint-"]:last'),b=parseInt(a.prop("id").match(/\d+/g),10)+1;$("#constraint-operator-1-2").is(":visible")?$("#constraints-container").append($("#constraint-operator-1-2").clone().prop("id","constraint-operator-"+(b-1)+"-"+b)):$("#constraint-operator-1-2").show();$("#constraints-container").append(a.clone().prop("id","new-constraint-"+b));$("#new-constraint-"+b+" .constraint-header").text("Constraint #"+b)}else $("#new-constraint-1").show()}
function deleteConstraint(a){a=$(a).parent().parent().parent().parent()[0].id.split("-");a=parseInt(a[a.length-1]);var b=$('div[id^="new-constraint-"]').length;1==a&&1==b?($("#new-constraint-"+a).hide(),$("#constraint-operator-1-2").hide()):(b="#constraint-operator-"+(a-1)+"-"+a,0!=a%2&&(b="#constraint-operator-"+a+"-"+(a+1)),$(b).remove(),$("#new-constraint-"+a).remove());reindexConstraints()}
function reindexConstraints(){for(var a=$('div[id^="new-constraint-"]'),b=$('div[id^="constraint-operator-"]'),e=0;e<a.length;e++)$(a[e]).prop("id","new-constraint-"+(e+1)),$("#new-constraint-"+(e+1)+" .constraint-header").text("Constraint #"+(e+1));for(e=0;e<b.length;e++)$(b[e]).prop("id","constraint-operator-"+(e+1)+"-"+(e+2))}function toggleLegend(a){"hide"===a?($("#main-legend").hide(),$("#show-legend").show()):"show"===a&&($("#show-legend").hide(),$("#main-legend").show())}
var dataAugmentedPublications=[],software=[],softwareDictionary={},softwareSettings={},systemsSoftware=[],systemsSoftwareDictionary={},systemsSoftwareSettings={},diseaseTransmissionModel=[],diseaseTransmissionModelDictionary={},diseaseTransmissionModelSettings={},modelingPlatforms=[],modelingPlatformsDictionary={},modelingPlatformsSettings={},statisticalAnalysis=[],statisticalAnalysisDictionary={},statisticalAnalysisSettings={},imageManipulation=[],imageManipulationDictionary={},imageManipulationSettings=
{},webservices=[],webservicesDictionary={},webservicesSettings={},dataFormats=[],dataFormatsDictionary={},dataFormatsSettings={},standardIdentifiers=[],standardIdentifiersDictionary={},standardIdentifiersSettings={},geneticSequence=[],geneticSequenceDictionary={},geneticSequenceSettings={},tycho=[],tychoDictionary={},tychoSettings={},countryHash={},stateHash={"01":"Alabama","02":"Alaska","04":"Arizona","05":"Arkansas","06":"California","08":"Colorado","09":"Connecticut",10:"Delaware",11:"District Of Columbia",
12:"Florida",13:"Georgia",15:"Hawaii",16:"Idaho",17:"Illinois",18:"Indiana",19:"Iowa",20:"Kansas",21:"Kentucky",22:"Louisiana",23:"Maine",24:"Maryland",25:"Massachusetts",26:"Michigan",27:"Minnesota",28:"Mississippi",29:"Missouri",30:"Montana",31:"Nebraska",32:"Nevada",33:"New Hampshire",34:"New Jersey",35:"New Mexico",36:"New York",37:"North Carolina",38:"North Dakota",39:"Ohio",40:"Oklahoma",41:"Oregon",42:"Pennsylvania",44:"Rhode Island",45:"South Carolina",46:"South Dakota",47:"Tennessee",48:"Texas",
49:"Utah",50:"Vermont",51:"Virginia",53:"Washington",54:"West Virginia",55:"Wisconsin",56:"Wyoming"},fipsCodes=Object.keys(stateHash),syntheticEcosystemsDictionary={},epidemicsDictionary={},synthiaPopulationsDictionary={},caseSeriesDictionary={},chikungunyaDictionary={},diseaseSurveillanceDictionary={},moralityDataDictionary={},zikaDictionary={},infectiousDiseaseDictionary={};String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});
var locationData={text:"Location data",nodes:[]},dsd={text:"Disease surveillance data",nodes:[]},weatherAndClimateData={text:"Weather and climate data",nodes:[]};
identifierCodes={12637:"Dengue virus",114727:"H1N1 virus",333278:"H7N9 virus",12721:"Human immunodeficiency virus",64320:"Zika virus",12066:"Coxsackievirus",1570291:"Ebola virus",1392:"Bacillus anthracis",119210:"H3N2 virus",11309:"Influenza virus",10345:"Suid alphaherpesvirus 1",418103:"Plasmodium",9606:"Homo sapiens",7157:"Culicidae",7159:"Aedes aegypti",476836:"San Juan, Puerto Rico",366188:"Los Angeles, California",5196:"Denmark",5622:"Yucatan, Mexico",11:"Sierra Leone",1216:"United States of America",
510873:"Seattle, Washington",542924:"Cairns, Australia",544694:"Worldwide",544695:"The Americas",544287:"Iquitos, Peru",544696:"The Caribbean",544697:"Latin America",542920:"South America"};var convertToHtml="publicationsThatUsedRelease publicatoinsAboutRelease forecasts executables dataInputFormats dataOutputFormats".split(" ");
$("#commons-body").on("click",function(a){"bs-popover"!==$(a.target).attr("class")&&($("[rel=popover]").not(a.target).popover("destroy"),$(".popover").remove());$('[data-toggle="tooltip"]').tooltip({trigger:"hover",delay:350})});
$(document).ready(function(){768>$(window).width()&&$(".navbar-toggle").click();var a=$("a[href='"+location.hash+"']");location.hash&&0<a.length?(a.tab("show"),"#workflows"==location.hash?setTimeout(function(){drawDiagram()},300):"#modal-json"==location.hash&&($("#modal-html-link").click(),location.hash="_"),a=$("a[href='"+location.hash+"']").text(),""==a&&(a="Data-augmented Publication"),ga("send",{hitType:"pageview",page:location.pathname,title:a}),location.hash.includes("publication")&&$("#content-tab").addClass("highlighted-item")):
($("#content-tab").click(),ga("send",{hitType:"pageview",page:location.pathname,title:"Content"}));$(document.body).on("click","a[data-toggle]",function(a){location.hash=this.getAttribute("href");ga("send",{hitType:"pageview",page:location.pathname,title:$(this).text()})});$(document.body).on("click","a",function(a){a=this.getAttribute("href");a.includes("http")&&ga("send",{hitType:"event",eventCategory:"Clickthrough",eventAction:a})});$("#navbar-collapse").collapse("hide");$("#pageModal").on("hidden.bs.modal",
function(){$("#modal-switch-btn").text("Switch to Metadata View");$("#modal-html-link").click();location.hash="_"})});$(window).on("popstate",function(){var a=location.hash||$("a[data-toggle='tab']").first().attr("href");$("a[href='"+a+"']").tab("show");location.hash.includes("publication")?$("#content-tab").addClass("highlighted-item"):$("#content-tab").removeClass("highlighted-item")});window.onload=init;function expandNodesInSessionVariable(a,b){var e=$.parseJSON(sessionStorage.getItem(b)),d=[];if(null===e){e=$(a).treeview("getExpanded");for(var c=[],f=0;f<e.length;f++)c.push(e[f].nodeId);sessionStorage.setItem(b,JSON.stringify(c));e=$.parseJSON(sessionStorage.getItem(b))}$(a).treeview("collapseAll",{silent:!0});if(null!==e){for(c=0;c<e.length;c++)try{$(a).treeview("expandNode",[e[c],{silent:!0}])}catch(h){d.push(c)}if(0<d.length){for(c=0;c<d.length;c++)e.splice(d[c],1);sessionStorage.setItem(b,
JSON.stringify(e))}}}function getTreeDepth(a){var b=0;a.children&&a.children.forEach(function(a){a=getDepth(a);a>b&&(b=a)});return 1+b}
function getTreeviewInfo(a,b,e){var d=JSON.parse(a)[0].type;if(null!=d&&d.includes("DataStandard"))var c="bullet-point";return{data:a,showBorder:!1,collapseAll:!0,expandIcon:"glyphicon glyphicon-chevron-right",collapseIcon:"glyphicon glyphicon-chevron-down",emptyIcon:c,onNodeSelected:function(a,c){if(void 0!==c&&void 0!==c.entryId){var d=c.entryId.split("r");getDataAndOpenModal(d[0],d[1])}$(b).treeview("toggleNodeExpanded",[c.nodeId,{levels:1,silent:!0}]).treeview("unselectNode",[c.nodeId,{silent:!0}]);
d=$.parseJSON(sessionStorage.getItem(e));if(c.state.expanded){if(null!==d){var f=d.indexOf(c.nodeId);-1<f&&d.splice(f,1)}}else null!==d?(f=d.indexOf(c.nodeId),-1>=f&&d.push(c.nodeId)):(d=[],d.push(c.nodeId));sessionStorage.setItem(e,JSON.stringify(d));null!==c.url&&!0===c.state.selected&&(ga("send",{hitType:"event",eventCategory:"Clickthrough",eventAction:c.url}),"signInRequired"in c&&!0===c.signInRequired&&(window.location.href=c.url))}}}
function showModal(a,b,e){b.includes("Dataset")||b.includes("DataStandard")?($("#dats-json").show(),$("#mdc-json").hide()):($("#dats-json").hide(),$("#mdc-json").show());null!==e&&0<e.length?$("#display-json").text(e):$("#display-json").text(JSON.stringify(a,null,"\t"));toggleModalItems(a,b);$("#pageModal").modal("show")}function getCountBadge(a){return" <span class='badge'>["+a+"]</span>"}
function addLegendBadge(a,b){var e=a.availableOnOlympus,d=a.availableOnUIDS,c=a.signInRequired;void 0!==e&&e&&(b+=' <b><i class="olympus-color"><sup>AOC</sup></i></b>');void 0!==d&&d&&(b+=' <b><i class="udsi-color"><sup>UIDS</sup></i></b>');void 0!==c&&c&&(b+=' <b><i class="sso-color"><sup>SSO</sup></i></b>');return b}function wrapInSpan(a){return'<span onmouseover="toggleTitle(this)">'+a+"</span>"}
function getSoftwareNode(a){var b=a.title,e=a.version;void 0!==e&&(e=e.join(", "),b=getSoftwareTitle(b,e));b=addLegendBadge(a,b);b=wrapInSpan(b);return{text:b,name:a.title,info:{entry:a}}}function capitalizeFirst(a){return a.charAt(0).toUpperCase()+a.slice(1)}
function setModalHeader(a,b){var e=a.title;void 0===e&&0!==Object.keys(a.name).length&&(e=a.name);var d=a.version;if(void 0!==e){var c=e;void 0!==d&&(c="[object Array]"===Object.prototype.toString.call(d)?getSoftwareTitle(e,d.join(", ")):getSoftwareTitle(e,d));ga("send",{hitType:"event",eventCategory:"User Activity",eventAction:b+" - "+c});$("#software-name").text(c);$("#software-name").show()}else $("#software-name").hide()}
function setSingularOrPluralModalItem(a,b,e){var d="#software-"+e,c=d+"-container",f=d+"-tag",h=b+"s";e=capitalizeFirst(e);var g=e+"s";b in a?(a=a[b],b=a.length,"[object Array]"===Object.prototype.toString.call(a)?(a=a.join(", "),1<b?$(f).text(g+":"):$(f).text(e+":")):$(f).text(e+":"),0<a.length?($(c).show(),$(d).html(a)):$(c).hide()):h in a?(a=a[h],b=a.length,a=a.map(function(a){return a.firstName+" "+a.lastName}).join(", "),$(c).show(),$(d).html(a),$(f).text(g+":")):$(c).hide()}
function setDataServiceDescription(a){if("dataServiceDescription"in a)for(var b=a.dataServiceDescription,e=0;e<b.length;e++)Object.keys(b[e]).includes("accessPointType")&&"custom"!==b[e].accessPointType&&("REST"===b[e].accessPointType?a.restDocumentation=b[e].accessPointDescription:"SOAP"===b[e].accessPointType&&(a.soapDocumentation=b[e].accessPointDescription)),null!==b[e].accessPointUrl&&""!==b[e].accessPointUrl&&(a.endpointPrefix=b[e].accessPointUrl);return a}
function toggleModalItems(a,b){setModalHeader(a,b);setSingularOrPluralModalItem(a,"developers","developer");setSingularOrPluralModalItem(a,"creator","creator");setSingularOrPluralModalItem(a,"version","version");a=setDataServiceDescription(a);toggleRequiredModalItem("identifier",a,"identifier",!1,!0,b);toggleRequiredModalItem("dataInputFormats",a,"data-input-formats",!1,!0,b,!0);toggleRequiredModalItem("dataOutputFormats",a,"data-output-formats",!1,!0,b,!0);toggleModalItem("type",a,"type",!1,!1);
toggleModalItem("populationSpeciesIncluded",a,"population-species",!1,!1);toggleModalItem("source",a,"source-code",!0,!1);toggleModalItem("pathogenCoverage",a,"pathogen-coverage",!1,!1);toggleModalItem("locationCoverage",a,"location-coverage",!1,!1);toggleModalItem("speciesIncluded",a,"species-included",!1,!1);toggleModalItem("hostSpeciesIncluded",a,"host-species-included",!1,!1);toggleModalItem("controlMeasures",a,"control-measures",!1,!1);toggleModalItem("title",a,"title",!1,!1);toggleModalItem("humanReadableSynopsis",
a,"human-readable-synopsis",!1,!0);toggleModalItem("sourceCodeRelease",a,"source-code-release",!1,!0);toggleModalItem("publicationsAboutRelease",a,"publications-about-release",!1,!0);toggleModalItem("publicationsThatUsedRelease",a,"publications-that-used-release",!1,!0);toggleModalItem("webApplication",a,"web-application",!0,!1);toggleModalItem("userGuidesAndManuals",a,"user-guides-and-manuals",!0,!1);toggleModalItem("executables",a,"executables",!1,!0);toggleModalItem("license",a,"license",!1,!0);
toggleModalItem("endpointPrefix",a,"end-point-prefix",!0,!1);toggleModalItem("documentation",a,"documentation",!1,!0);toggleModalItem("restDocumentation",a,"rest-documentation",!0,!1);toggleModalItem("soapDocumentation",a,"soap-documentation",!0,!1);toggleModalItem("soapEndpoint",a,"soap-endpoint",!0,!1);toggleModalItem("projectSource",a,"project-source-code",!0,!1);toggleModalItem("soapSource",a,"rest-source-code",!0,!1);toggleModalItem("restSource",a,"soap-source-code",!0,!1);toggleModalItem("exampleQueries",
a,"example-queries",!1,!0);toggleModalItem("diseases",a,"diseases",!1,!1);toggleModalItem("region",a,"region",!1,!0);toggleModalItem("locations",a,"locations",!1,!0);toggleModalItem("pathogens",a,"pathogens",!1,!0);toggleModalItem("outcomes",a,"outcomes",!1,!0);toggleModalItem("forecasts",a,"forecasts",!1,!0);toggleModalItem("nowcasts",a,"nowcasts",!1,!0);toggleModalItem("website",a,"website",!0,!1);toggleModalItem("forecastFrequency",a,"forecast-frequency",!1,!1);toggleModalItem("visualizationType",
a,"visualization-type",!1,!1);toggleModalItem("grants",a,"grant",!1,!1);toggleModalItem("platform",a,"platform",!1,!1);toggleModalItem("producedBy",a,"produced-by",!1,!1);toggleModalItem("description",a,"description",!1,!1);toggleModalItem("landingPage",a,"landing-page",!0,!1);toggleModalItem("accessURL",a,"access-url",!0,!1);toggleModalItem("authorizations",a,"authorizations",!1,!1);toggleModalItem("humanReadableSpecification",a,"human-readable-specification",!0,!1);toggleModalItem("machineReadableSpecification",
a,"machine-readable-specification",!0,!1);toggleModalItem("validator",a,"validator",!0,!1);toggleModalItem("spatialCoverage",a,"spatial-coverage",!1,!1)}function getDataAndOpenModal(a,b){event.preventDefault();event.stopPropagation();$.post(ctx+"/entryInfo/"+a+"/"+b,function(a){var b=JSON.parse(a.json);console.log(a,b);showModal(b,a.type,a.xml)})};var FOREST_WIDGET_CREATOR=function(){function a(){}function b(a,c){if(a&&(a.ancestorsInput.checked=c,c?a.rowDiv.classList.add(h):a.descendantsInput.checked||a.rowDiv.classList.remove(h),a.data.parent))return b(a.data.parent,c)}function e(a,c){var d;a.span=document.createElement("span");a.rowDiv=document.createElement("div");a.spanDiv=document.createElement("div");a.inputDiv=document.createElement("div");a.inputDiv.classList.add("checkbox-div");a.spanDiv.classList.add("span-div");a.ancestorsInput=
document.createElement("input");a.descendantsInput=document.createElement("input");a.selfInput=document.createElement("input");a.span.innerHTML=a.data.label;a.ancestorsInput.type="checkbox";a.ancestorsInput.onchange=function(){a.data.includeAncestors=a.ancestorsInput.checked;b(a,a.data.includeAncestors)};a.descendantsInput.type="checkbox";a.descendantsInput.onchange=function(){a.data.includeDescendants=a.descendantsInput.checked;var b=a.data.includeDescendants,c,d,f=[];for(f.push(a);0<f.length;)for(((d=
f.shift()).descendantsInput.checked=b)?d.rowDiv.classList.add(h):d.ancestorsInput.checked||d.rowDiv.classList.remove(h),c=0;c<d.data.children.length;c++)f.push(d.data.children[c])};a.selfInput.id="node-"+a.data.id;a.selfInput.type="checkbox";a.selfInput.value=a.data.id;a.selfInput.onchange=function(){if(a.data.userSelected=this.checked,a.data.userSelected){a.rowDiv.classList.add(g);for(d=0;d<c.userSelectedNodes.length;d++)if(c.userSelectedNodes[d]===a.data)return;c.userSelectedNodes.push(a.data)}else for(a.rowDiv.classList.remove(g),
d=0;d<c.userSelectedNodes.length;d++)if(c.userSelectedNodes[d]===a.data){c.userSelectedNodes.splice(d,1);break}};a.inputDiv.appendChild(a.ancestorsInput);a.inputDiv.appendChild(a.descendantsInput);a.inputDiv.appendChild(a.selfInput);a.spanDiv.appendChild(a.span);a.rowDiv.appendChild(a.inputDiv);a.rowDiv.appendChild(a.spanDiv);a.element.appendChild(a.rowDiv)}function d(a,b){for(var c,d,f,e=[],g=a,h=[];g.data.parent;)g=g.data.parent;b.forest[b.forest.length-1]===g?e.push(l):e.push(k);for(c=0;c<g.data.children.length;c++)h.push(g.data.children[c]);
for(;0<h.length;){for(f=(g=h.pop()).data.parent;e.length<g.depth+1;)e.push(l);d="";for(c=0;c<g.depth;c++)d+=e[c];f.data.children[f.data.children.length-1]===g?(e[g.depth]=l,g.span.innerHTML="<span>"+d+m+"</span>"+g.data.label):(e[g.depth]=k,g.span.innerHTML="<span>"+d+n+"</span>"+g.data.label);for(c=0;c<g.data.children.length;c++)h.push(g.data.children[c])}}function c(a,b,c,f){this.depth=0;this.data={id:-1,label:a,parent:null,children:[],userSelected:!1,includeAncestors:!1,includeDescendants:!1};
b&&(this.data.id=b);this.element=document.createElement("div");this.element.className="node";e(this,f);c&&(this.data.parent=c,this.depth=c.depth+1,d(this,f))}function f(a,b,f){var e=this;!function(){function k(){m.style.height=h.clientHeight-(l.offsetHeight+(h.offsetHeight-h.clientHeight<<1))+"px"}var g=document.getElementById(a),h=document.createElement("div"),l=document.createElement("form"),m=document.createElement("form"),n=document.createElement("div"),r=[],p={userSelectedNodes:[],includeAncestors:!1,
includeDescendants:!1,width:b||"100%",height:f||"100%",widgetBody:h,forest:r};h.className="widget-body";h.style.width=p.width;h.style.height=p.height;l.className="header-body";l.innerHTML="<div><span>A</span><span>D</span><span>S</span></div>";m.className="forest-container";n.className="forest-body";m.appendChild(n);h.appendChild(l);h.appendChild(m);g.appendChild(h);window.addEventListener("resize",k);e.createNode=function(a){return a.id?new c(a.label,a.id,a.parent,p):new c(a,null,null,p)};e.addNodeByReference=
function(a,b){n.appendChild(a.element);b?(a.data.parent=b,a.depth=b.depth+1,d(a,p),b.data.children.push(a),b.element.appendChild(a.element)):r.push(a);k()};e.addNode=function(a){a=e.createNode(a);return n.appendChild(a.element),a.data.parent?(a.data.parent.data.children.push(a),a.data.parent.element.appendChild(a.element)):r.push(a),k(),a};e.getUserSelectedNodes=function(){return p.userSelectedNodes}}()}var h="included",g="selected",k="&#9475;",l="&emsp;",m="&#9494;",n="&#9507;";return a.prototype.create=
function(a,b,c){return a?new f(a,b,c):(console.error("Failed to provide parent element ID to ForestWidgetCreator.create(parentElementID)"),null)},new a}();/*
 Bootstrap v3.3.6 (http://getbootstrap.com)
 Copyright 2011-2015 Twitter, Inc.
 Licensed under the MIT license
*/
if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(a){a=a.fn.jquery.split(" ")[0].split(".");if(2>a[0]&&9>a[1]||1==a[0]&&9==a[1]&&1>a[2]||2<a[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3");}(jQuery);
+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var d=!1,c=this;a(this).one("bsTransitionEnd",function(){d=!0});return setTimeout(function(){d||a(c).trigger(a.support.transition.end)},b),this};a(function(){a.support.transition=b();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
+function(a){var b=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};b.VERSION="3.3.6";b.TRANSITION_DURATION=150;b.prototype.close=function(d){function c(){g.detach().trigger("closed.bs.alert").remove()}var f=a(this),e=f.attr("data-target");e||(e=f.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var g=a(e);d&&d.preventDefault();g.length||(g=f.closest(".alert"));g.trigger(d=a.Event("close.bs.alert"));d.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?
g.one("bsTransitionEnd",c).emulateTransitionEnd(b.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=function(d){return this.each(function(){var c=a(this),f=c.data("bs.alert");f||c.data("bs.alert",f=new b(this));"string"==typeof d&&f[d].call(c)})};a.fn.alert.Constructor=b;a.fn.alert.noConflict=function(){return a.fn.alert=e,this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',b.prototype.close)}(jQuery);
+function(a){function b(b){return this.each(function(){var c=a(this),d=c.data("bs.button"),g="object"==typeof b&&b;d||c.data("bs.button",d=new e(this,g));"toggle"==b?d.toggle():b&&d.setState(b)})}var e=function(b,d){this.$element=a(b);this.options=a.extend({},e.DEFAULTS,d);this.isLoading=!1};e.VERSION="3.3.6";e.DEFAULTS={loadingText:"loading..."};e.prototype.setState=function(b){var c=this.$element,d=c.is("input")?"val":"html",e=c.data();b+="Text";null==e.resetText&&c.data("resetText",c[d]());setTimeout(a.proxy(function(){c[d](null==
e[b]?this.options[b]:e[b]);"loadingText"==b?(this.isLoading=!0,c.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,c.removeClass("disabled").removeAttr("disabled"))},this),0)};e.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var d=this.$element.find("input");"radio"==d.prop("type")?(d.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==d.prop("type")&&
(d.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active"));d.prop("checked",this.$element.hasClass("active"));a&&d.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b;a.fn.button.Constructor=e;a.fn.button.noConflict=function(){return a.fn.button=d,this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);
d.hasClass("btn")||(d=d.closest(".btn"));b.call(d,"toggle");a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery);
+function(a){function b(b){return this.each(function(){var c=a(this),d=c.data("bs.carousel"),f=a.extend({},e.DEFAULTS,c.data(),"object"==typeof b&&b),l="string"==typeof b?b:f.slide;d||c.data("bs.carousel",d=new e(this,f));"number"==typeof b?d.to(b):l?d[l]():f.interval&&d.pause().cycle()})}var e=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.$items=this.$active=this.interval=this.sliding=this.paused=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",
a.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};e.VERSION="3.3.6";e.TRANSITION_DURATION=600;e.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};e.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}};
e.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this};e.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)};e.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);return("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap?b:this.$items.eq((c+
("prev"==a?-1:1))%this.$items.length)};e.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))};e.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),
this.cycle(!0)),this.interval=clearInterval(this.interval),this};e.prototype.next=function(){return this.sliding?void 0:this.slide("next")};e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};e.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),f=c||this.getItemForDirection(b,d),h=this.interval,m="next"==b?"left":"right",n=this;if(f.hasClass("active"))return this.sliding=!1;var r=f[0],q=a.Event("slide.bs.carousel",{relatedTarget:r,direction:m});if(this.$element.trigger(q),
!q.isDefaultPrevented()){if(this.sliding=!0,h&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(q=a(this.$indicators.children()[this.getItemIndex(f)]))&&q.addClass("active");var p=a.Event("slid.bs.carousel",{relatedTarget:r,direction:m});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,d.addClass(m),f.addClass(m),d.one("bsTransitionEnd",function(){f.removeClass([b,m].join(" ")).addClass("active");d.removeClass(["active",
m].join(" "));n.sliding=!1;setTimeout(function(){n.$element.trigger(p)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(d.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(p)),h&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b;a.fn.carousel.Constructor=e;a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var c=function(c){var d,f=a(this),e=a(f.attr("data-target")||(d=f.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));e.hasClass("carousel")&&(d=
a.extend({},e.data(),f.data()),(f=f.attr("data-slide-to"))&&(d.interval=!1),b.call(e,d),f&&e.data("bs.carousel").to(f),c.preventDefault())};a(document).on("click.bs.carousel.data-api","[data-slide]",c).on("click.bs.carousel.data-api","[data-slide-to]",c);a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery);
+function(a){function b(b){var c;b=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(b)}function e(b){return this.each(function(){var c=a(this),f=c.data("bs.collapse"),e=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!f&&e.toggle&&/show|hide/.test(b)&&(e.toggle=!1);f||c.data("bs.collapse",f=new d(this,e));"string"==typeof b&&f[b]()})}var d=function(b,c){this.$element=a(b);this.options=a.extend({},d.DEFAULTS,c);this.$trigger=a('[data-toggle="collapse"][href="#'+
b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};d.VERSION="3.3.6";d.TRANSITION_DURATION=350;d.DEFAULTS={toggle:!0};d.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,c=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");
if(!(c&&c.length&&(b=c.data("bs.collapse"),b&&b.transitioning))){var g=a.Event("show.bs.collapse");if(this.$element.trigger(g),!g.isDefaultPrevented()){c&&c.length&&(e.call(c,"hide"),b||c.data("bs.collapse",null));var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;b=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k]("");this.transitioning=
0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return b.call(this);c=a.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",a.proxy(b,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[k](this.$element[0][c])}}}};d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",
!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var c=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[b](0).one("bsTransitionEnd",a.proxy(c,this)).emulateTransitionEnd(d.TRANSITION_DURATION):c.call(this)}}};d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+
this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()};d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c);b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var c=a.fn.collapse;a.fn.collapse=e;a.fn.collapse.Constructor=d;a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d=a(this);d.attr("data-target")||
c.preventDefault();c=b(d);d=c.data("bs.collapse")?"toggle":d.data();e.call(c,d)})}(jQuery);
+function(a){function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&a(c))&&c.length?c:b.parent()}function e(e){e&&3===e.which||(a(d).remove(),a(c).each(function(){var c=a(this),d=b(c),f={relatedTarget:this};d.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&a.contains(d[0],e.target)||(d.trigger(e=a.Event("hide.bs.dropdown",f)),e.isDefaultPrevented()||(c.attr("aria-expanded","false"),d.removeClass("open").trigger(a.Event("hidden.bs.dropdown",
f)))))}))}var d=".dropdown-backdrop",c='[data-toggle="dropdown"]',f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.VERSION="3.3.6";f.prototype.toggle=function(c){var d=a(this);if(!d.is(".disabled, :disabled")){var f=b(d),g=f.hasClass("open");if(e(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",e);g={relatedTarget:this};if(f.trigger(c=a.Event("show.bs.dropdown",
g)),c.isDefaultPrevented())return;d.trigger("focus").attr("aria-expanded","true");f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",g))}return!1}};f.prototype.keydown=function(d){if(/(38|40|27|32)/.test(d.which)&&!/input|textarea/i.test(d.target.tagName)){var e=a(this);if(d.preventDefault(),d.stopPropagation(),!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(!g&&27!=d.which||g&&27==d.which)return 27==d.which&&f.find(c).trigger("focus"),e.trigger("click");e=f.find(".dropdown-menu li:not(.disabled):visible a");
e.length&&(f=e.index(d.target),38==d.which&&0<f&&f--,40==d.which&&f<e.length-1&&f++,~f||(f=0),e.eq(f).trigger("focus"))}}};var h=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this));"string"==typeof b&&d[b].call(c)})};a.fn.dropdown.Constructor=f;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this};a(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",
c,f.prototype.toggle).on("keydown.bs.dropdown.data-api",c,f.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",f.prototype.keydown)}(jQuery);
+function(a){function b(b,d){return this.each(function(){var c=a(this),f=c.data("bs.modal"),k=a.extend({},e.DEFAULTS,c.data(),"object"==typeof b&&b);f||c.data("bs.modal",f=new e(this,k));"string"==typeof b?f[b](d):k.show&&f.show(d)})}var e=function(b,d){this.options=d;this.$body=a(document.body);this.$element=a(b);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.VERSION="3.3.6";e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};e.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};e.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d);this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){c.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(c.$element)&&(c.ignoreBackdropClick=!0)})}),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body);c.$element.show().scrollTop(0);c.adjustDialog();d&&c.$element[0].offsetWidth;
c.$element.addClass("in");c.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$dialog.one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(e.TRANSITION_DURATION):c.$element.trigger("focus").trigger(f)}))};e.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())};e.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};e.prototype.escape=function(){this.isShown&&this.options.keyboard?
this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};e.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")};e.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};
e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var g=a.support.transition&&d;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+d).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===
a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),g&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),b)g?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d=function(){c.removeBackdrop();b&&b()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",d).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):
d()):b&&b()};e.prototype.handleUpdate=function(){this.adjustDialog()};e.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};e.prototype.checkScrollbar=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),
a=a.right-Math.abs(a.left));this.bodyIsOverflowing=document.body.clientWidth<a;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};e.prototype.measureScrollbar=function(){var a=document.createElement("div");
a.className="modal-scrollbar-measure";this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b;a.fn.modal.Constructor=e;a.fn.modal.noConflict=function(){return a.fn.modal=d,this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(d){var c=a(this),e=c.attr("href"),g=a(c.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,""));e=g.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},g.data(),c.data());c.is("a")&&
d.preventDefault();g.one("show.bs.modal",function(a){a.isDefaultPrevented()||g.one("hidden.bs.modal",function(){c.is(":visible")&&c.trigger("focus")})});b.call(g,e,this)})}(jQuery);
+function(a){var b=function(a,b){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",a,b)};b.VERSION="3.3.6";b.TRANSITION_DURATION=150;b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};b.prototype.init=function(b,c,
e){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(e),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");b=this.options.trigger.split(" ");
for(c=b.length;c--;)if(e=b[c],"click"==e)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=e){var d="hover"==e?"mouseleave":"focusout";this.$element.on(("hover"==e?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};b.prototype.getDefaults=
function(){return b.DEFAULTS};b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b};b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b};b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,
this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())};b.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1};b.prototype.leave=
function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())};b.prototype.show=
function(){var d=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(d);var c=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!d.isDefaultPrevented()&&c){var e=this;d=this.tip();c=this.getUID(this.type);this.setContent();d.attr("id",c);this.$element.attr("aria-describedby",c);this.options.animation&&d.addClass("fade");c="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement;
var h=/\s?auto?\s?/i,g=h.test(c);g&&(c=c.replace(h,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(c).data("bs."+this.type,this);this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);h=this.getPosition();var k=d[0].offsetWidth,l=d[0].offsetHeight;if(g){g=c;var m=this.getPosition(this.$viewport);c="bottom"==c&&h.bottom+l>m.bottom?"top":"top"==c&&h.top-l<m.top?"bottom":"right"==c&&h.right+k>m.width?
"left":"left"==c&&h.left-k<m.left?"right":c;d.removeClass(g).addClass(c)}h=this.getCalculatedOffset(c,h,k,l);this.applyPlacement(h,c);c=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type);e.hoverState=null;"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",c).emulateTransitionEnd(b.TRANSITION_DURATION):c()}}};b.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,g=d[0].offsetHeight,k=parseInt(d.css("margin-top"),10),
l=parseInt(d.css("margin-left"),10);isNaN(k)&&(k=0);isNaN(l)&&(l=0);b.top+=k;b.left+=l;a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);d.addClass("in");l=d[0].offsetWidth;var m=d[0].offsetHeight;"top"==c&&m!=g&&(b.top=b.top+g-m);var n=this.getViewportAdjustedDelta(c,b,l,m);n.left?b.left+=n.left:b.top+=n.top;e=(k=/top|bottom/.test(c))?2*n.left-e+l:2*n.top-g+m;g=k?"offsetWidth":"offsetHeight";d.offset(b);this.replaceArrow(e,d[0][g],
k)};b.prototype.replaceArrow=function(a,b,e){this.arrow().css(e?"left":"top",50*(1-a/b)+"%").css(e?"top":"left","")};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};b.prototype.hide=function(d){function c(){"in"!=e.hoverState&&h.detach();e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type);d&&d()}var e=this,h=a(this.$tip),g=a.Event("hide.bs."+this.type);
return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(h.removeClass("in"),a.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",c).emulateTransitionEnd(b.TRANSITION_DURATION):c(),this.hoverState=null,this)};b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(b){b=
b||this.$element;var c=b[0],d="BODY"==c.tagName;c=c.getBoundingClientRect();null==c.width&&(c=a.extend({},c,{width:c.right-c.left,height:c.bottom-c.top}));var e=d?{top:0,left:0}:b.offset();b={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};d=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},c,b,d,e)};b.prototype.getCalculatedOffset=function(a,b,e,h){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-e/2}:"top"==a?{top:b.top-
h,left:b.left+b.width/2-e/2}:"left"==a?{top:b.top+b.height/2-h/2,left:b.left-e}:{top:b.top+b.height/2-h/2,left:b.left+b.width}};b.prototype.getViewportAdjustedDelta=function(a,b,e,h){var c={top:0,left:0};if(!this.$viewport)return c;var d=this.options.viewport&&this.options.viewport.padding||0,f=this.getPosition(this.$viewport);/right|left/.test(a)?(e=b.top-d-f.scroll,b=b.top+d-f.scroll+h,e<f.top?c.top=f.top-e:b>f.top+f.height&&(c.top=f.top+f.height-b)):(h=b.left-d,b=b.left+d+e,h<f.left?c.left=f.left-
h:b>f.right&&(c.left=f.left+f.width-b));return c};b.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};b.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};b.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");
return this.$tip};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.enable=function(){this.enabled=!0};b.prototype.disable=function(){this.enabled=!1};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)));b?(c.inState.click=!c.inState.click,
c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)};b.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type);a.$tip&&a.$tip.detach();a.$tip=null;a.$arrow=null;a.$viewport=null})};var e=a.fn.tooltip;a.fn.tooltip=function(d){return this.each(function(){var c=a(this),e=c.data("bs.tooltip"),h="object"==typeof d&&d;!e&&/destroy|hide/.test(d)||(e||c.data("bs.tooltip",e=new b(this,h)),
"string"!=typeof d||e[d]())})};a.fn.tooltip.Constructor=b;a.fn.tooltip.noConflict=function(){return a.fn.tooltip=e,this}}(jQuery);
+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");b.VERSION="3.3.6";b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};
b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),e=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof e?"html":"append":"text"](e);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var a=this.$element,
b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=a.fn.popover;a.fn.popover=function(d){return this.each(function(){var c=a(this),e=c.data("bs.popover"),h="object"==typeof d&&d;!e&&/destroy|hide/.test(d)||(e||c.data("bs.popover",e=new b(this,h)),"string"!=typeof d||e[d]())})};a.fn.popover.Constructor=b;a.fn.popover.noConflict=function(){return a.fn.popover=
e,this}}(jQuery);
+function(a){function b(c,e){this.$body=a(document.body);this.$scrollElement=a(a(c).is(document.body)?window:c);this.options=a.extend({},b.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this));this.refresh();this.process()}function e(c){return this.each(function(){var e=a(this),d=e.data("bs.scrollspy"),g="object"==typeof c&&c;d||e.data("bs.scrollspy",
d=new b(this,g));"string"==typeof c&&d[c]()})}b.VERSION="3.3.6";b.DEFAULTS={offset:10};b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};b.prototype.refresh=function(){var b=this,e="offset",d=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();a.isWindow(this.$scrollElement[0])||(e="position",d=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var b=
a(this);b=b.data("target")||b.attr("href");var c=/^#./.test(b)&&a(b);return c&&c.length&&c.is(":visible")&&[[c[e]().top+d,b]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),d=this.options.offset+e-this.$scrollElement.height(),k=this.offsets,l=this.targets,m=this.activeTarget;if(this.scrollHeight!=e&&this.refresh(),b>=
d)return m!=(a=l[l.length-1])&&this.activate(a);if(m&&b<k[0])return this.activeTarget=null,this.clear();for(a=k.length;a--;)m!=l[a]&&b>=k[a]&&(void 0===k[a+1]||b<k[a+1])&&this.activate(l[a])};b.prototype.activate=function(b){this.activeTarget=b;this.clear();b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};b.prototype.clear=
function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=e;a.fn.scrollspy.Constructor=b;a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);e.call(b,b.data())})})}(jQuery);
+function(a){function b(b){return this.each(function(){var c=a(this),d=c.data("bs.tab");d||c.data("bs.tab",d=new e(this));"string"==typeof b&&d[b]()})}var e=function(b){this.element=a(b)};e.VERSION="3.3.6";e.TRANSITION_DURATION=150;e.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),e=b.data("target");if(e||(e=b.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var d=c.find(".active:last a"),l=a.Event("hide.bs.tab",{relatedTarget:b[0]}),
m=a.Event("show.bs.tab",{relatedTarget:d[0]});(d.trigger(l),b.trigger(m),m.isDefaultPrevented()||l.isDefaultPrevented())||(e=a(e),this.activate(b.closest("li"),c),this.activate(e,e.parent(),function(){d.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:d[0]})}))}};e.prototype.activate=function(b,c,d){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);
b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);m?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);d&&d()}var g=c.find("> .active"),m=d&&a.support.transition&&(g.length&&g.hasClass("fade")||!!c.find("> .fade").length);g.length&&m?g.one("bsTransitionEnd",f).emulateTransitionEnd(e.TRANSITION_DURATION):f();g.removeClass("in")};var d=
a.fn.tab;a.fn.tab=b;a.fn.tab.Constructor=e;a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var c=function(c){c.preventDefault();b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',c).on("click.bs.tab.data-api",'[data-toggle="pill"]',c)}(jQuery);
+function(a){function b(b){return this.each(function(){var c=a(this),d=c.data("bs.affix"),g="object"==typeof b&&b;d||c.data("bs.affix",d=new e(this,g));"string"==typeof b&&d[b]()})}var e=function(b,d){this.options=a.extend({},e.DEFAULTS,d);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(b);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};
e.VERSION="3.3.6";e.RESET="affix affix-top affix-bottom";e.DEFAULTS={offset:0,target:window};e.prototype.getState=function(a,b,d,e){var c=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=d&&"top"==this.affixed)return d>c?"top":!1;if("bottom"==this.affixed)return null!=d?c+this.unpin<=f.top?!1:"bottom":a-e>=c+g?!1:"bottom";var h=null==this.affixed;f=h?c:f.top;return null!=d&&d>=c?"top":null!=e&&f+(h?g:b)>=a-e?"bottom":!1};e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(e.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};e.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,h=d.top,g=d.bottom,k=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(g=h=d);"function"==typeof h&&(h=d.top(this.$element));
"function"==typeof g&&(g=d.bottom(this.$element));d=this.getState(k,b,h,g);if(this.affixed!=d){null!=this.unpin&&this.$element.css("top","");h="affix"+(d?"-"+d:"");var l=a.Event(h+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=d;this.unpin="bottom"==d?this.getPinnedOffset():null;this.$element.removeClass(e.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==d&&this.$element.offset({top:k-b-g})}};var d=a.fn.affix;a.fn.affix=b;a.fn.affix.Constructor=
e;a.fn.affix.noConflict=function(){return a.fn.affix=d,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var d=a(this),e=d.data();e.offset=e.offset||{};null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom);null!=e.offsetTop&&(e.offset.top=e.offsetTop);b.call(d,e)})})}(jQuery);!function(a,b,e,d){var c={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",color:d,backColor:d,borderColor:d,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:d,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,
showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:d,onNodeCollapsed:d,onNodeDisabled:d,onNodeEnabled:d,onNodeExpanded:d,onNodeSelected:d,onNodeUnchecked:d,onNodeUnselected:d,onSearchComplete:d,onSearchCleared:d};var f={silent:!1,ignoreChildren:!1};var h={ignoreCase:!0,exactMatch:!1,revealResults:!0};var g=function(b,d){return this.$element=a(b),this.elementId=b.id,this.styleId=this.elementId+"-style",this.init(d),{options:this.options,init:a.proxy(this.init,this),remove:a.proxy(this.remove,
this),getNode:a.proxy(this.getNode,this),getParent:a.proxy(this.getParent,this),getSiblings:a.proxy(this.getSiblings,this),getSelected:a.proxy(this.getSelected,this),getUnselected:a.proxy(this.getUnselected,this),getExpanded:a.proxy(this.getExpanded,this),getCollapsed:a.proxy(this.getCollapsed,this),getChecked:a.proxy(this.getChecked,this),getUnchecked:a.proxy(this.getUnchecked,this),getDisabled:a.proxy(this.getDisabled,this),getEnabled:a.proxy(this.getEnabled,this),selectNode:a.proxy(this.selectNode,
this),unselectNode:a.proxy(this.unselectNode,this),toggleNodeSelected:a.proxy(this.toggleNodeSelected,this),collapseAll:a.proxy(this.collapseAll,this),collapseNode:a.proxy(this.collapseNode,this),expandAll:a.proxy(this.expandAll,this),expandNode:a.proxy(this.expandNode,this),toggleNodeExpanded:a.proxy(this.toggleNodeExpanded,this),revealNode:a.proxy(this.revealNode,this),checkAll:a.proxy(this.checkAll,this),checkNode:a.proxy(this.checkNode,this),uncheckAll:a.proxy(this.uncheckAll,this),uncheckNode:a.proxy(this.uncheckNode,
this),toggleNodeChecked:a.proxy(this.toggleNodeChecked,this),disableAll:a.proxy(this.disableAll,this),disableNode:a.proxy(this.disableNode,this),enableAll:a.proxy(this.enableAll,this),enableNode:a.proxy(this.enableNode,this),toggleNodeDisabled:a.proxy(this.toggleNodeDisabled,this),search:a.proxy(this.search,this),clearSearch:a.proxy(this.clearSearch,this)}};g.prototype.init=function(b){this.tree=[];this.nodes=[];b.data&&("string"==typeof b.data&&(b.data=a.parseJSON(b.data)),this.tree=a.extend(!0,
[],b.data),delete b.data);this.options=a.extend({},c,b);this.destroy();this.subscribeEvents();this.setInitialStates({nodes:this.tree},0);this.render()};g.prototype.remove=function(){this.destroy();a.removeData(this,"treeview");a("#"+this.styleId).remove()};g.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)};g.prototype.unsubscribeEvents=function(){this.$element.off("click");this.$element.off("nodeChecked");this.$element.off("nodeCollapsed");
this.$element.off("nodeDisabled");this.$element.off("nodeEnabled");this.$element.off("nodeExpanded");this.$element.off("nodeSelected");this.$element.off("nodeUnchecked");this.$element.off("nodeUnselected");this.$element.off("searchComplete");this.$element.off("searchCleared")};g.prototype.subscribeEvents=function(){this.unsubscribeEvents();this.$element.on("click",a.proxy(this.clickHandler,this));"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked);
"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed);"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled);"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled);"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded);"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",
this.options.onNodeSelected);"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked);"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected);"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete);"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)};g.prototype.setInitialStates=
function(b,d){if(b.nodes){d+=1;var e=this;a.each(b.nodes,function(a,c){c.nodeId=e.nodes.length;c.parentId=b.nodeId;c.hasOwnProperty("selectable")||(c.selectable=!0);c.state=c.state||{};c.state.hasOwnProperty("checked")||(c.state.checked=!1);c.state.hasOwnProperty("disabled")||(c.state.disabled=!1);c.state.hasOwnProperty("expanded")||(!c.state.disabled&&d<e.options.levels&&c.nodes&&0<c.nodes.length?c.state.expanded=!0:c.state.expanded=!1);c.state.hasOwnProperty("selected")||(c.state.selected=!1);e.nodes.push(c);
c.nodes&&e.setInitialStates(c,d)})}};g.prototype.clickHandler=function(b){this.options.enableLinks||b.preventDefault();var d=a(b.target);(b=this.findNode(d))&&!b.state.disabled&&(d=d.attr("class")?d.attr("class").split(" "):[],-1!==d.indexOf("expand-icon")?(this.toggleExpandedState(b,f),this.render()):-1!==d.indexOf("check-icon")?(this.toggleCheckedState(b,f),this.render()):(b.selectable?this.toggleSelectedState(b,f):this.toggleExpandedState(b,f),this.render()))};g.prototype.findNode=function(a){a=
a.closest("li.list-group-item").attr("data-nodeid");a=this.nodes[a];return a||console.log("Error: node does not exist"),a};g.prototype.toggleExpandedState=function(a,b){a&&this.setExpandedState(a,!a.state.expanded,b)};g.prototype.setExpandedState=function(b,d,c){d!==b.state.expanded&&(d&&b.nodes?(b.state.expanded=!0,c.silent||this.$element.trigger("nodeExpanded",a.extend(!0,{},b))):d||(b.state.expanded=!1,c.silent||this.$element.trigger("nodeCollapsed",a.extend(!0,{},b)),b.nodes&&!c.ignoreChildren&&
a.each(b.nodes,a.proxy(function(a,b){this.setExpandedState(b,!1,c)},this))))};g.prototype.toggleSelectedState=function(a,b){a&&this.setSelectedState(a,!a.state.selected,b)};g.prototype.setSelectedState=function(b,d,c){d!==b.state.selected&&(d?(this.options.multiSelect||a.each(this.findNodes("true","g","state.selected"),a.proxy(function(a,b){this.setSelectedState(b,!1,c)},this)),b.state.selected=!0,c.silent||this.$element.trigger("nodeSelected",a.extend(!0,{},b))):(b.state.selected=!1,c.silent||this.$element.trigger("nodeUnselected",
a.extend(!0,{},b))))};g.prototype.toggleCheckedState=function(a,b){a&&this.setCheckedState(a,!a.state.checked,b)};g.prototype.setCheckedState=function(b,d,c){d!==b.state.checked&&(d?(b.state.checked=!0,c.silent||this.$element.trigger("nodeChecked",a.extend(!0,{},b))):(b.state.checked=!1,c.silent||this.$element.trigger("nodeUnchecked",a.extend(!0,{},b))))};g.prototype.setDisabledState=function(b,d,c){d!==b.state.disabled&&(d?(b.state.disabled=!0,this.setExpandedState(b,!1,c),this.setSelectedState(b,
!1,c),this.setCheckedState(b,!1,c),c.silent||this.$element.trigger("nodeDisabled",a.extend(!0,{},b))):(b.state.disabled=!1,c.silent||this.$element.trigger("nodeEnabled",a.extend(!0,{},b))))};g.prototype.render=function(){this.initialized||(this.$element.addClass("treeview"),this.$wrapper=a(this.template.list),this.injectStyle(),this.initialized=!0);this.$element.empty().append(this.$wrapper.empty());this.buildTree(this.tree,0)};g.prototype.buildTree=function(b,d){if(b){d+=1;var c=this;a.each(b,function(b,
e){for(var f=a(c.template.item).addClass("node-"+c.elementId).addClass(e.state.checked?"node-checked":"").addClass(e.state.disabled?"node-disabled":"").addClass(e.state.selected?"node-selected":"").addClass(e.searchResult?"search-result":"").attr("data-nodeid",e.nodeId).attr("style",c.buildStyleOverride(e)),g=0;d-1>g;g++)f.append(c.template.indent);g=[];if(e.nodes?(g.push("expand-icon"),g.push(e.state.expanded?c.options.collapseIcon:c.options.expandIcon)):g.push(c.options.emptyIcon),f.append(a(c.template.icon).addClass(g.join(" "))),
c.options.showIcon)g=["node-icon"],g.push(e.icon||c.options.nodeIcon),e.state.selected&&(g.pop(),g.push(e.selectedIcon||c.options.selectedIcon||e.icon||c.options.nodeIcon)),f.append(a(c.template.icon).addClass(g.join(" ")));c.options.showCheckbox&&(g=["check-icon"],g.push(e.state.checked?c.options.checkedIcon:c.options.uncheckedIcon),f.append(a(c.template.icon).addClass(g.join(" "))));return f.append(c.options.enableLinks?a(c.template.link).attr("href",e.href).append(e.text):e.text),c.options.showTags&&
e.tags&&a.each(e.tags,function(b,d){f.append(a(c.template.badge).append(d))}),c.$wrapper.append(f),e.nodes&&e.state.expanded&&!e.state.disabled?c.buildTree(e.nodes,d):void 0})}};g.prototype.buildStyleOverride=function(a){if(a.state.disabled)return"";var b=a.color,c=a.backColor;return this.options.highlightSelected&&a.state.selected&&(this.options.selectedColor&&(b=this.options.selectedColor),this.options.selectedBackColor&&(c=this.options.selectedBackColor)),this.options.highlightSearchResults&&a.searchResult&&
!a.state.disabled&&(this.options.searchResultColor&&(b=this.options.searchResultColor),this.options.searchResultBackColor&&(c=this.options.searchResultBackColor)),"color:"+b+";background-color:"+c+";"};g.prototype.injectStyle=function(){this.options.injectStyle&&!e.getElementById(this.styleId)&&a('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")};g.prototype.buildStyle=function(){var a=".node-"+this.elementId+"{";return this.options.color&&(a+="color:"+
this.options.color+";"),this.options.backColor&&(a+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(a+="border:1px solid "+this.options.borderColor+";"):a+="border:none;",a+="}",this.options.onhoverColor&&(a+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+a};g.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',
icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'};g.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}";g.prototype.getNode=function(a){return this.nodes[a]};g.prototype.getParent=function(a){a=this.identifyNode(a);return this.nodes[a.parentId]};g.prototype.getSiblings=
function(a){var b=this.identifyNode(a);a=this.getParent(b);return(a?a.nodes:this.tree).filter(function(a){return a.nodeId!==b.nodeId})};g.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")};g.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")};g.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")};g.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")};g.prototype.getChecked=
function(){return this.findNodes("true","g","state.checked")};g.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")};g.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")};g.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")};g.prototype.selectNode=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setSelectedState(a,!0,b)},this));this.render()};g.prototype.unselectNode=function(b,c){this.forEachIdentifier(b,
c,a.proxy(function(a,b){this.setSelectedState(a,!1,b)},this));this.render()};g.prototype.toggleNodeSelected=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.toggleSelectedState(a,b)},this));this.render()};g.prototype.collapseAll=function(b){var c=this.findNodes("true","g","state.expanded");this.forEachIdentifier(c,b,a.proxy(function(a,b){this.setExpandedState(a,!1,b)},this));this.render()};g.prototype.collapseNode=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setExpandedState(a,
!1,b)},this));this.render()};g.prototype.expandAll=function(b){if(b=a.extend({},f,b),b&&b.levels)this.expandLevels(this.tree,b.levels,b);else{var c=this.findNodes("false","g","state.expanded");this.forEachIdentifier(c,b,a.proxy(function(a,b){this.setExpandedState(a,!0,b)},this))}this.render()};g.prototype.expandNode=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setExpandedState(a,!0,b);a.nodes&&b&&b.levels&&this.expandLevels(a.nodes,b.levels-1,b)},this));this.render()};g.prototype.expandLevels=
function(b,c,d){d=a.extend({},f,d);a.each(b,a.proxy(function(a,b){this.setExpandedState(b,0<c?!0:!1,d);b.nodes&&this.expandLevels(b.nodes,c-1,d)},this))};g.prototype.revealNode=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){for(var c=this.getParent(a);c;)this.setExpandedState(c,!0,b),c=this.getParent(c)},this));this.render()};g.prototype.toggleNodeExpanded=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.toggleExpandedState(a,b)},this));this.render()};g.prototype.checkAll=
function(b){var c=this.findNodes("false","g","state.checked");this.forEachIdentifier(c,b,a.proxy(function(a,b){this.setCheckedState(a,!0,b)},this));this.render()};g.prototype.checkNode=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setCheckedState(a,!0,b)},this));this.render()};g.prototype.uncheckAll=function(b){var c=this.findNodes("true","g","state.checked");this.forEachIdentifier(c,b,a.proxy(function(a,b){this.setCheckedState(a,!1,b)},this));this.render()};g.prototype.uncheckNode=
function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setCheckedState(a,!1,b)},this));this.render()};g.prototype.toggleNodeChecked=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.toggleCheckedState(a,b)},this));this.render()};g.prototype.disableAll=function(b){var c=this.findNodes("false","g","state.disabled");this.forEachIdentifier(c,b,a.proxy(function(a,b){this.setDisabledState(a,!0,b)},this));this.render()};g.prototype.disableNode=function(b,c){this.forEachIdentifier(b,
c,a.proxy(function(a,b){this.setDisabledState(a,!0,b)},this));this.render()};g.prototype.enableAll=function(b){var c=this.findNodes("true","g","state.disabled");this.forEachIdentifier(c,b,a.proxy(function(a,b){this.setDisabledState(a,!1,b)},this));this.render()};g.prototype.enableNode=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setDisabledState(a,!1,b)},this));this.render()};g.prototype.toggleNodeDisabled=function(b,c){this.forEachIdentifier(b,c,a.proxy(function(a,b){this.setDisabledState(a,
!a.state.disabled,b)},this));this.render()};g.prototype.forEachIdentifier=function(b,c,d){c=a.extend({},f,c);b instanceof Array||(b=[b]);a.each(b,a.proxy(function(a,b){d(this.identifyNode(b),c)},this))};g.prototype.identifyNode=function(a){return"number"==typeof a?this.nodes[a]:a};g.prototype.search=function(b,c){c=a.extend({},h,c);this.clearSearch({render:!1});var d=[];b&&0<b.length&&(c.exactMatch&&(b="^"+b+"$"),d="g",c.ignoreCase&&(d+="i"),d=this.findNodes(b,d),a.each(d,function(a,b){b.searchResult=
!0}));return c.revealResults?this.revealNode(d):this.render(),this.$element.trigger("searchComplete",a.extend(!0,{},d)),d};g.prototype.clearSearch=function(b){b=a.extend({},{render:!0},b);var c=a.each(this.findNodes("true","g","searchResult"),function(a,b){b.searchResult=!1});b.render&&this.render();this.$element.trigger("searchCleared",a.extend(!0,{},c))};g.prototype.findNodes=function(b,c,d){c=c||"g";d=d||"text";var e=this;return a.grep(this.nodes,function(a){a=e.getNodeValue(a,d);return"string"==
typeof a?a.match(new RegExp(b,c)):void 0})};g.prototype.getNodeValue=function(a,b){var c=b.indexOf(".");if(0<c){var e=a[b.substring(0,c)];c=b.substring(c+1,b.length);return this.getNodeValue(e,c)}return a.hasOwnProperty(b)?a[b].toString():d};a.fn.treeview=function(c,d){var e;return this.each(function(){var f=a.data(this,"treeview");"string"==typeof c?f?a.isFunction(f[c])&&"_"!==c.charAt(0)?(d instanceof Array||(d=[d]),e=f[c].apply(f,d)):b.console&&b.console.error("No such method : "+c):b.console&&
b.console.error("Not initialized, can not call method : "+c):"boolean"==typeof c?e=f:a.data(this,"treeview",new g(this,a.extend(!0,{},c)))}),e||this}}(jQuery,window,document);